<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Testify</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
  
  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4605579560460422"
     crossorigin="anonymous"></script>

  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Poppins', sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(to bottom right, #dbeafe, #c7d2fe);
      min-height: 100vh;
    }

    nav {
      background: #4f46e5;
      padding: 12px 16px;
    }

    .nav-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1000px;
      margin: auto;
      flex-wrap: wrap;
    }

    .nav-logo {
      color: white;
      font-size: 18px;
      font-weight: bold;
    }

    .nav-links {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
    }

    .nav-links a {
      color: white;
      text-decoration: none;
      margin: 10px 14px;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      transition: color 0.3s ease;
    }

    .nav-links a:hover {
      color: #e0e7ff;
    }

    .nav-toggle {
      display: none;
      font-size: 26px;
      color: white;
      cursor: pointer;
      user-select: none;
    }

    .section {
      display: none;
      padding: 30px 20px;
      max-width: 700px;
      margin: auto;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .section.active {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    .card {
      background: white;
      padding: 25px 20px;
      border-radius: 20px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
    }

    h2 {
      text-align: center;
      color: #1f2937;
      margin-bottom: 25px;
      font-size: 1.6rem;
    }

    label {
      display: block;
      margin-top: 18px;
      font-weight: 600;
      color: #374151;
      font-size: 15px;
    }

    select, input, button {
      width: 100%;
      padding: 12px 14px;
      margin-top: 8px;
      border-radius: 12px;
      border: 1px solid #cbd5e1;
      font-size: 15px;
      transition: border-color 0.3s ease;
    }

    select:focus, input:focus {
      outline: none;
      border-color: #6366f1;
      box-shadow: 0 0 8px #a5b4fc;
    }

    button {
      background: linear-gradient(to right, #6366f1, #8b5cf6);
      color: white;
      font-weight: bold;
      border: none;
      cursor: pointer;
      margin-top: 25px;
      transition: background 0.3s ease, transform 0.2s ease;
      user-select: none;
    }

    button:hover {
      background: linear-gradient(to right, #4f46e5, #7c3aed);
    }

    button:active {
      transform: scale(0.97);
    }

    .flash {
      background: #fee2e2;
      color: #b91c1c;
      padding: 12px;
      border-radius: 10px;
      margin-top: 15px;
      font-weight: 500;
    }

    @media (max-width: 600px) {
      .nav-toggle {
        display: block;
      }

      .nav-links {
        display: none;
        flex-direction: column;
        width: 100%;
        margin-top: 10px;
      }

      .nav-links.show {
        display: flex;
      }

      .nav-links a {
        margin: 8px 0;
        text-align: center;
      }

      h2 {
        font-size: 1.4rem;
      }
    }
  </style>
</head>
<body>

  <nav>
    <div class="nav-container">
      <div class="nav-logo">AI Exam</div>
      <div class="nav-toggle" onclick="toggleMenu()" aria-label="Toggle navigation menu" role="button" tabindex="0">‚ò∞</div>
      <div class="nav-links" id="navLinks">
        <a href="javascript:void(0)" onclick="showSection('home')">Home</a>
        <a href="javascript:void(0)" onclick="showSection('about')">About</a>
        <a href="javascript:void(0)" onclick="showSection('terms')">Terms</a>
        <a href="javascript:void(0)" onclick="showSection('help')">Help</a>
        <a href="/doubt">AI Assist</a>
      </div>
    </div>
  </nav>

  <!-- Home Section -->
  <div class="section active" id="home">
    <div class="card" id="formCard">
      <h2>Start Your Exam</h2>
      <form method="POST" action="{{ url_for('generate_questions') }}" id="examForm">
        <label for="mode">Mode</label>
        <select name="mode" id="mode" required onchange="updateTopicVisibility()">
          <option value="practice">Practice Mode</option>
          <option value="mock">Mock Exam Mode</option>
        </select>

        <label for="exam">Exam</label>
        <select name="exam" id="exam" required onchange="updateSections()">
          {% for ex in exams %}
            <option value="{{ ex }}">{{ ex }}</option>
          {% endfor %}
        </select>

        <label for="section">Sub Exam / Section</label>
        <select name="section" id="section" required onchange="updateTopics()"></select>

        <div id="topicDiv" style="display:none;">
          <label for="topic">Sub Topic</label>
          <select name="topic" id="topic"></select>
        </div>

        {% with messages = get_flashed_messages() %}
        {% if messages %}
          <div class="flash" role="alert">
            {% for message in messages %}
              <p>{{ message }}</p>
            {% endfor %}
          </div>
        {% endif %}
        {% endwith %}

        <button type="submit" id="startExamBtn">Start Exam</button>
      </form>
    </div>
  </div>

  <!-- About Section -->
  <div class="section" id="about">
    <div class="card">
      <h2>About This Platform</h2>
      <p>
        Welcome to the AI Exam Simulator ‚Äì your smart learning partner for government exam preparation!<br><br>
        Our platform is powered by advanced artificial intelligence to help you succeed in exams like,JEE.GATE,NEET We offer:<br><br>
        ‚úÖ AI-Generated Questions ‚Äì Get unlimited practice with fresh, exam-style questions created instantly by AI.<br>
        ‚úÖ Mock Exams ‚Äì Experience real exam patterns with full-length mock tests.<br>
        ‚úÖ Doubt Solver ‚Äì Stuck on a question? Ask our AI assistant to explain it step-by-step in simple Tamil or English.<br>
        ‚úÖ Shortcut Tricks ‚Äì Learn fast-solving techniques and memory hacks for tricky topics.<br><br>
        Whether you're preparing for Group 4 or CGL, our AI makes your preparation smarter, faster, and more personalized.
      </p>
    </div>
  </div>

  <!-- Terms Section -->
  <div class="section" id="terms">
    <div class="card">
      <h2>Terms and Conditions</h2>
      <p>
        1. Educational Purpose Only<br>
        Our website is designed to help users prepare for government exams like, JEE, NEET, and GATE. All content, including AI-generated questions and explanations, is for learning and practice purposes only.<br><br>

        2. No Guarantee of Accuracy<br>
        While we strive to provide high-quality content, we do not guarantee the 100% accuracy or completeness of AI-generated questions, answers, or explanations. Always verify critical information from official sources.<br><br>

        3. User Responsibility<br>
        Users are responsible for how they use the platform. Misuse of the platform, including attempting to hack, spam, or extract content for unauthorized use, is strictly prohibited.<br><br>

        4. Data Privacy<br>
        We may collect basic usage data to improve the platform experience. We do not sell or share your personal data with third parties.<br><br>

        5. Advertisements<br>
        This website displays third-party ads, including Google Ads, to support the maintenance and development of the platform. These ads may use cookies to show personalized content. By using our site, you consent to such ads and cookies as per Google‚Äôs Privacy & Terms.<br><br>

        6. Modifications<br>
        We reserve the right to update or modify these terms at any time. Continued use of the site after changes means you agree to the updated terms.
      </p>
    </div>
  </div>

  <!-- Help Section -->
  <div class="section" id="help">
    <div class="card">
      <h2>Help</h2>
      <p>
        üí° <strong>How to Use the Platform</strong><br><br>

        <strong>1. Practice Mode</strong><br>
        Select your exam, section, and topic.<br>
        Get 10 AI-generated questions for focused practice.<br>
        Check answers instantly and understand your weak areas.<br><br>

        <strong>2. Mock Exam Mode</strong><br>
        Select your exam and group.<br>
        Take a full-length exam based on real exam pattern.<br>
        Timer, navigation, and result analysis included.<br><br>

        <strong>3. AI Doubt Solver</strong><br>
        Stuck on a question?<br>
        Go to the ‚ÄúAI Assistant‚Äù page.<br>
        Choose ‚ÄúDoubt‚Äù mode, enter your question and topic ‚Äî get clear explanations in Tamil or English.<br><br>

        <strong>4. AI Trick Generator</strong><br>
        Want shortcut tricks?<br>
        Use the ‚ÄúTrick‚Äù mode to get memory hacks and short methods.<br><br>

        üìß <strong>Need More Help?</strong><br>
        If you face technical issues or want to give feedback, email us at:<br>
        üì© <a href="mailto:edupulse@gmail.com">edupulse@gmail.com</a>
      </p>
    </div>
  </div>

  <script>
    // Navigation toggle
    function toggleMenu() {
      const links = document.getElementById('navLinks');
      links.classList.toggle('show');
    }

    // Data from server - ensure these are passed as JSON in your Flask render_template
    const sections = {{ sections | tojson }};
    const subTopics = {{ sub_topics | safe }};

    // Show/hide main sections
    function showSection(id) {
      document.querySelectorAll('.section').forEach(sec => {
        sec.classList.remove('active');
      });
      const target = document.getElementById(id);
      if(target){
        target.classList.add('active');
      }
      // Close mobile menu if open
      document.getElementById('navLinks').classList.remove('show');
    }

    // Populate Sections dropdown based on selected exam
    function updateSections() {
      const exam = document.getElementById('exam').value;
      const sectionSelect = document.getElementById('section');
      sectionSelect.innerHTML = '';
      if (sections[exam]) {
        sections[exam].forEach(sec => {
          const option = document.createElement('option');
          option.value = sec;
          option.textContent = sec;
          sectionSelect.appendChild(option);
        });
      }
      updateTopics();
    }

    // Populate Topics dropdown based on selected section & exam
    function updateTopics() {
      const exam = document.getElementById('exam').value;
      const section = document.getElementById('section').value;
      const topicSelect = document.getElementById('topic');
      topicSelect.innerHTML = '';
      if (subTopics[exam] && subTopics[exam][section]) {
        subTopics[exam][section].forEach(topic => {
          const option = document.createElement('option');
          option.value = topic;
          option.textContent = topic;
          topicSelect.appendChild(option);
        });
        topicSelect.required = true;
      } else {
        topicSelect.required = false;
      }
    }

    // Show or hide topic selector based on mode
    function updateTopicVisibility() {
      const mode = document.getElementById('mode').value;
      const topicDiv = document.getElementById('topicDiv');
      if (mode === 'practice') {
        topicDiv.style.display = 'block';
        document.getElementById('topic').required = true;
      } else {
        topicDiv.style.display = 'none';
        document.getElementById('topic').required = false;
      }
    }

    // Animate form submission button and disable it to prevent multiple clicks
    document.getElementById('examForm').addEventListener('submit', function(e){
      const btn = document.getElementById('startExamBtn');
      btn.disabled = true;
      btn.textContent = 'Generating Questions...';
      btn.style.background = 'linear-gradient(to right, #a78bfa, #c4b5fd)';
      btn.style.cursor = 'wait';
    });

    // Initialize on load
    window.onload = () => {
      updateSections();
      updateTopicVisibility();
    };
  </script>

</body>
</html>
